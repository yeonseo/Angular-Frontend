<h1>{{ text }}</h1>

<mat-card class="search-box">
  <button mat-button [matMenuTriggerFor]="menu">검색옵션</button>
  <mat-menu #menu="matMenu">
    <button mat-menu-item>전체</button>
    <button mat-menu-item>글쓴이</button>
    <button mat-menu-item>제목</button>
    <button mat-menu-item>내용</button>
  </mat-menu>
  <input matInput id="search" name="search" [(ngModel)]="searchKeyword" required>
  <button mat-button (click)="onSearch()">검색</button>
</mat-card>

<mat-card class="search-box">
  <mat-form-field>
    <mat-label>Choose a date</mat-label>
    <input matInput [matDatepicker]="picker">
    <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
    <mat-datepicker #picker startView="year" [startAt]="startDate"></mat-datepicker>
  </mat-form-field>

  <button mat-button (click)="onSearch()">검색</button>
</mat-card>

<div class="mat-elevation-z8">
  <table mat-table [dataSource]="dataSource">
    <ng-container matColumnDef="id">
      <th mat-header-cell *matHeaderCellDef> No. </th>
      <!--<td mat-cell *matCellDef="let element"> {{element.id}} </td>-->
      <!--<td mat-cell *matCellDef="let element; let i = index; ">{{ this.paginator.pageIndex == 0 ?  i + 1 : i + 1 + this.paginator.pageIndex * this.paginator.pageSize}}</td>-->
      <td mat-cell *matCellDef="let element; let i = index; ">{{ this.paginator.pageIndex == 0 ?  this.datas.length - i : this.datas.length - this.paginator.pageIndex * this.paginator.pageSize - i }}</td>
    </ng-container>

    <ng-container matColumnDef="title">
      <th mat-header-cell *matHeaderCellDef> 제목 </th>
      <td mat-cell *matCellDef="let element"> {{element.title}} </td>
    </ng-container>

    <ng-container matColumnDef="username">
      <th mat-header-cell *matHeaderCellDef> 작성자 </th>
      <td mat-cell *matCellDef="let element"> {{element.username}} </td>
    </ng-container>

    <ng-container matColumnDef="created">
      <th mat-header-cell *matHeaderCellDef> 작성일 </th>
      <td mat-cell *matCellDef="let element"> {{element.created | date:'MM/dd HH:mm '}} </td>
    </ng-container>

    <ng-container matColumnDef="views">
      <th mat-header-cell *matHeaderCellDef> 조회수 </th>
      <td mat-cell *matCellDef="let element"> {{element.views}} </td>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns;" routerLink="/board-detail/{{row.id}}"></tr>
  </table>

  <mat-paginator [pageSizeOptions]="[5, 10, 20]" showFirstLastButtons></mat-paginator>
  <button mat-button (click)="onBoardCreate()">글쓰기</button>
</div>
